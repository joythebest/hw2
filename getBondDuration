import numpy as np
def getBondDuration(y, face, couponRate, m, ppy=1):
    cf = couponRate * face
    pv = (1+(y/ppy)) ** -np.arange(1,m*ppy+1)
    pvsum_cf = sum(pv*(cf/ppy))
    pvsum_face = face*pv[-1]
    pvcf_total= pvsum_cf + pvsum_face
    pvcf_t = sum(pv*(cf/ppy)*(np.linspace(1/ppy,m,m*ppy))) + face*pv[-1]*m  #???
    BondDuration = pvcf_t / pvcf_total

    return(BondDuration)
